<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CanvasLens - Image Viewing & Annotation Library</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <link rel="icon" type="image/png" href="assets/favicon.png">
    <link rel="apple-touch-icon" href="assets/favicon.svg">

    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/homepage.css">
    <link rel="stylesheet" href="assets/css/annotation-settings.css">
</head>

<body class="home-page">
    <div class="demo-container">
        <div class="demo-header">
            <h1>CanvasLens</h1>
            <p>A powerful HTML5 Canvas-based image viewing and annotation library</p>
        </div>

        <div class="demo-section">
            <h2>🖼️ Unified Image Viewer & Editor</h2>
            <p>Experience the complete CanvasLens functionality with zoom, pan, annotations, and comparison tools. Click
                "Open in Overlay" to access the full editor interface.</p>

            <div class="features">
                <div class="feature-card">
                    <h3>🔍 Zoom & Pan</h3>
                    <p>Mouse wheel zoom, drag to pan, and zoom controls for precise image navigation</p>
                </div>
                <div class="feature-card">
                    <h3>✏️ Annotations</h3>
                    <p>Draw rectangles, arrows, text, circles, and lines on images with customizable styles</p>
                </div>
                <div class="feature-card">
                    <h3>⚖️ Comparison</h3>
                    <p>Compare two images side by side with synchronized controls and split view</p>
                </div>
                <div class="feature-card">
                    <h3>🖼️ Overlay Mode</h3>
                    <p>Full-screen editor with professional UI and save functionality for image edits</p>
                </div>
            </div>

            <div class="controls">
                <input type="file" id="imageInput" class="file-input" accept="image/*">
                <label for="imageInput" class="file-label">📁 Load Image</label>

                <button class="btn success" onclick="loadSampleImage()">🖼️ Load Sample</button>
                <button class="btn info" onclick="openOverlay()">🖼️ Open in Overlay</button>
                <button class="btn warning" onclick="resetView()">🔄 Reset View</button>
                <button class="btn secondary" onclick="fitToView()">📐 Fit to View</button>
            </div>

            <div class="controls">
                <button class="btn active" onclick="setToolsAll()">🔧 All Tools</button>
                <button class="btn secondary" onclick="setToolsZoomOnly()">🔍 Zoom Only</button>
                <button class="btn secondary" onclick="setToolsAnnotationOnly()">✏️ Annotation Only</button>
                <button class="btn secondary" onclick="setToolsCustom()">⚙️ Custom Config</button>
            </div>

            <div class="controls" id="annotationTools" style="display: none;">
                <button class="btn secondary" onclick="toggleTool('rect')">⬜ Rectangle (Alt+R)</button>
                <button class="btn secondary" onclick="toggleTool('arrow')">↗ Arrow (Alt+A)</button>
                <button class="btn secondary" onclick="toggleTool('text')">T Text (Alt+T)</button>
                <button class="btn secondary" onclick="toggleTool('circle')">⭕ Circle (Alt+C)</button>
                <button class="btn secondary" onclick="toggleTool('line')">📏 Line (Alt+L)</button>
            </div>

            <div class="controls" id="annotationSettings" style="display: none;">
                <div class="setting-group">
                    <label>Color</label>
                    <div class="controls-row">
                        <input type="color" id="colorPicker" value="#ff0000" onchange="changeAnnotationColor(this.value)">
                        <input type="text" id="colorHex" value="#ff0000" placeholder="#ff0000" onchange="changeAnnotationColorFromHex(this.value)">
                    </div>
                </div>
                <div class="setting-group">
                    <label>Width</label>
                    <div class="controls-row">
                        <button type="button" onclick="decreaseWidth()">−</button>
                        <input type="number" id="strokeWidth" min="1" max="20" value="2" onchange="changeStrokeWidth(this.value)">
                        <button type="button" onclick="increaseWidth()">+</button>
                    </div>
                </div>
                <div class="setting-group">
                    <label>Style</label>
                    <div class="controls-row">
                        <select id="lineStyle" onchange="changeLineStyle(this.value)">
                            <option value="solid">━━━</option>
                            <option value="dashed">┅┅┅</option>
                            <option value="dotted">┈┈┈</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="status" id="status">
                <strong>Status:</strong> Ready to load an image
            </div>

            <div class="canvas-container">
                <canvas-lens id="canvasContainer" width="100%" height="100%"
                    tools='{"zoom": true, "pan": true, "annotation": {"rect": true, "arrow": true, "text": true, "circle": true, "line": true}, "comparison": true}'
                    background-color="#f8f9fa">
                </canvas-lens>
            </div>
        </div>

        <div class="footer">
            <p>
                Built with ❤️ by the CanvasLens Team |
                <a href="https://github.com/koniz-dev/canvaslens" class="github-link" target="_blank">
                    View on GitHub
                </a>
            </p>
        </div>
    </div>

    <script type="module" src="assets/js/homepage.js"></script>
</body>

</html>